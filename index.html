<!DOCTYPE html>
<html>
<head>
  <base href="https://example.com">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>–ò–≥—Ä–∞ —Å –ë—É—Å—Ç–µ—Ä–∞–º–∏</title>
  <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫—Ä–∞—Å–∏–≤–æ–≥–æ —à—Ä–∏—Ñ—Ç–∞ -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-bg: #e0f7fa; /* Light Aqua */
      --window-bg: #b2ebf2;  /* Aqua background */
      --secondary-bg: #80deea;
      --accent: #00bcd4;
      --text: #004d40;
      --gold: #ffd700;
      --modal-bg: #ffffff;
      --button-bg: #00838f;
      --button-hover: #00acc1;
      --close-button: #ff5252;
      --scrollbar-bg: #80deea;
      --scrollbar-thumb: #00acc1;
    }

    /* –ó–∞–ø—Ä–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ */
    * {
      user-select: none;
      -webkit-user-select: none; /* –î–ª—è Safari */
      -ms-user-select: none; /* –î–ª—è IE10+ */
    }

    body {
      margin: 0;
      padding: 0;
      background: var(--primary-bg);
      color: var(--text);
      font-family: 'Montserrat', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;  /* Prevent scrolling */
    }

    .game-window {
      background: var(--window-bg);
      border: 2px solid var(--secondary-bg);
      border-radius: 10px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
      width: 400px;  /* Fixed width */
      height: 600px; /* Fixed height */
      padding: 20px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      position: relative;
      animation: fadeIn 1s ease-in-out;
    }

    .game-container {
      width: 100%;
      height: calc(100% - 60px); /* Account for nav bar */
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: hidden;
    }

    .stats {
      font-size: 24px;
      margin: 10px 0;
      text-align: center;
      animation: slideDown 1s ease-out;
    }

    .income-display {
      font-size: 16px;
      margin-top: 5px;
      color: #00c853;
    }

    .coin {
      width: 80px;
      height: 80px;
      background: var(--accent);
      border-radius: 50%;
      cursor: pointer;
      transition: transform 0.1s, background 0.3s;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      margin: 15px 0;
      position: relative;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }

    .coin:active {
      transform: scale(0.95);
    }

    .coin:hover {
      background: var(--button-hover);
    }

    .nav-bar {
      width: 100%;
      background: var(--secondary-bg);
      display: flex;
      justify-content: space-around;
      padding: 10px 0;
      border-radius: 10px;
      position: absolute;
      bottom: 20px;
      left: 0;
      animation: slideUp 1s ease-out;
    }

    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: var(--text);
      text-decoration: none;
      font-size: 14px;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 5px;
      transition: background-color 0.3s, transform 0.3s;
      position: relative;
    }

    .nav-item:hover {
      background-color: var(--button-hover);
      transform: scale(1.1);
    }

    .nav-item.active {
      background-color: #00c853;
      color: white;
    }

    .shop-container {
      width: 100%;
      height: calc(100% - 100px);
      display: none;
      padding: 10px 0;
      overflow-y: auto;
      animation: fadeIn 1s ease-in-out;
      /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞ */
      scrollbar-width: thin; /* –î–ª—è Firefox */
      scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-bg);
    }

    /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è Webkit (Chrome, Safari) */
    .shop-container::-webkit-scrollbar {
      width: 8px;
    }

    .shop-container::-webkit-scrollbar-track {
      background: var(--scrollbar-bg);
      border-radius: 4px;
    }

    .shop-container::-webkit-scrollbar-thumb {
      background-color: var(--scrollbar-thumb);
      border-radius: 4px;
      border: 2px solid var(--scrollbar-bg);
    }

    .shop-item {
      background: rgba(255, 255, 255, 0.8);
      margin: 10px;
      padding: 10px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }

    .shop-item:hover {
      transform: scale(1.02);
    }

    .shop-item-icon {
      width: 40px;
      height: 40px;
      background: var(--accent);
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      color: white;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    }

    .shop-item-info {
      flex: 1;
    }

    .shop-item-name {
      font-weight: bold;
      margin-bottom: 3px;
      font-size: 16px;
      color: var(--text);
    }

    .shop-item-price {
      color: var(--gold);
      display: flex;
      align-items: center;
      gap: 5px;
      margin-bottom: 3px;
      font-size: 14px;
    }

    .buy-button {
      background: var(--button-bg);
      border: none;
      color: white;
      padding: 6px 12px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.2s, transform 0.2s;
      font-size: 14px;
    }

    .buy-button:hover:not(:disabled) {
      background: var(--button-hover);
      transform: scale(1.05);
    }

    .buy-button:disabled {
      background: #4a4a6a;
      cursor: not-allowed;
    }

    @keyframes float-up {
      0% {
        transform: translateY(0);
        opacity: 1;
      }
      100% {
        transform: translateY(-50px);
        opacity: 0;
      }
    }

    .floating-number {
      position: absolute;
      animation: float-up 1s ease-out forwards;
      color: #00c853;
      font-size: 14px;
      pointer-events: none;
      user-select: none;
    }

    /* Modal Styles */
    .modal {
      display: none; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1000; /* Sit on top */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgba(0, 0, 0, 0.5); /* Black w/ opacity */
      animation: fadeIn 0.5s ease-in-out;
    }

    .modal-content {
      background-color: var(--modal-bg);
      margin: 15% auto; /* 15% from the top and centered */
      padding: 20px;
      border: 1px solid var(--secondary-bg);
      width: 80%;
      max-width: 300px;
      border-radius: 10px;
      text-align: center;
      animation: slideDown 0.5s ease-out;
      position: relative;
    }

    .close-button {
      background-color: var(--close-button);
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
      position: absolute;
      top: 10px;
      right: 10px;
      transition: background-color 0.3s;
    }

    .close-button:hover {
      background-color: #ff1744;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideDown {
      from { transform: translateY(-20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ */
    .balance-animate {
      animation: balanceIncrease 1s forwards;
    }

    @keyframes balanceIncrease {
      0% {
        transform: scale(1);
        color: #004d40;
      }
      50% {
        transform: scale(1.3);
        color: #00c853;
      }
      100% {
        transform: scale(1);
        color: #004d40;
      }
    }

    @media (max-width: 400px) {
      body {
        align-items: flex-start;  /* Align to top on mobile */
      }

      .game-window {
        width: 100%;
        height: 100vh;
        border-radius: 0;
        padding: 10px;
      }

      .game-container {
        height: calc(100% - 70px);
      }

      .coin {
        width: 70px;
        height: 70px;
        font-size: 28px;
      }

      .shop-item {
        margin: 10px 5px;
      }
    }
  </style>
</head>
<body>
  <div class="game-window">
    <div class="game-container">
      <div class="stats">
        <span id="coins">5000</span> üí∞
        <div class="income-display">–î–æ—Ö–æ–¥ –≤ —á–∞—Å: <span id="hourlyIncome">0</span></div>
      </div>

      <div class="coin" id="clickCoin">üí∞</div>

      <div class="shop-container" id="shopContainer">
        <!-- –ú–∞–≥–∞–∑–∏–Ω –±—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
      </div>
    </div>

    <div class="nav-bar">
      <div class="nav-item" onclick="showMain()">
        üè†
        <span>–ì–ª–∞–≤–Ω–∞—è</span>
      </div>
      <div class="nav-item" onclick="showShop()">
        üõí
        <span>–ë—É—Å—Ç–µ—Ä—ã</span>
      </div>
      <div class="nav-item" onclick="showTasks()">
        üìã
        <span>–ó–∞–¥–∞–Ω–∏—è</span>
      </div>
      <div class="nav-item" onclick="showPrizes()">
        üéÅ
        <span>–ü—Ä–∏–∑—ã</span>
      </div>
      <div class="nav-item" onclick="showRating()">
        ‚≠ê
        <span>–†–µ–π—Ç–∏–Ω–≥</span>
      </div>
    </div>
  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <button class="close-button" onclick="closeModal()">√ó</button>
      <p id="modalMessage">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞</p>
      <button id="prizeButton" class="buy-button" style="margin-top: 15px;">–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑</button>
    </div>
  </div>

  <script>
    let coins = 5000;
    let coinsPerClick = 1;
    let hourlyIncome = 0;
    let lastSaveTime = Date.now();

    const coinsDisplay = document.getElementById('coins');
    const hourlyIncomeDisplay = document.getElementById('hourlyIncome');
    const clickCoin = document.getElementById('clickCoin');
    const shopContainer = document.getElementById('shopContainer');
    const modal = document.getElementById('modal');
    const modalMessage = document.getElementById('modalMessage');
    const prizeButton = document.getElementById('prizeButton');

    const boosters = {
      runner: {
        name: '–ë–µ–≥—É—â–∏–π –ø–æ –ü–ª—é—Å—É',
        icon: 'üèÉ',
        price: 2750,
        income: 2750,
        owned: 0
      },
      bigbaby: {
        name: '–ë–∏–≥ –ë–∞–π–±–∏ –ü–∞–π',
        icon: 'üéÆ',
        price: 1000,
        income: 500,
        owned: 0
      },
      // –î–æ–±–∞–≤–ª—è–µ–º 13 –Ω–æ–≤—ã—Ö –±—É—Å—Ç–µ—Ä–æ–≤
      booster3: { name: '–ë—É—Å—Ç–µ—Ä 3', icon: 'üöÄ', price: 1500, income: 600, owned: 0 },
      booster4: { name: '–ë—É—Å—Ç–µ—Ä 4', icon: '‚ö°', price: 2000, income: 800, owned: 0 },
      booster5: { name: '–ë—É—Å—Ç–µ—Ä 5', icon: 'üî•', price: 2500, income: 1000, owned: 0 },
      booster6: { name: '–ë—É—Å—Ç–µ—Ä 6', icon: 'üåü', price: 3000, income: 1200, owned: 0 },
      booster7: { name: '–ë—É—Å—Ç–µ—Ä 7', icon: 'üíé', price: 3500, income: 1400, owned: 0 },
      booster8: { name: '–ë—É—Å—Ç–µ—Ä 8', icon: 'üéØ', price: 4000, income: 1600, owned: 0 },
      booster9: { name: '–ë—É—Å—Ç–µ—Ä 9', icon: 'üèÜ', price: 4500, income: 1800, owned: 0 },
      booster10: { name: '–ë—É—Å—Ç–µ—Ä 10', icon: 'üîÆ', price: 5000, income: 2000, owned: 0 },
      booster11: { name: '–ë—É—Å—Ç–µ—Ä 11', icon: 'üõ°Ô∏è', price: 5500, income: 2200, owned: 0 },
      booster12: { name: '–ë—É—Å—Ç–µ—Ä 12', icon: '‚öîÔ∏è', price: 6000, income: 2400, owned: 0 },
      booster13: { name: '–ë—É—Å—Ç–µ—Ä 13', icon: 'üß≤', price: 6500, income: 2600, owned: 0 },
      booster14: { name: '–ë—É—Å—Ç–µ—Ä 14', icon: 'üîã', price: 7000, income: 2800, owned: 0 },
      booster15: { name: '–ë—É—Å—Ç–µ—Ä 15', icon: 'üí∞', price: 7500, income: 3000, owned: 0 },
    };

    // –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–µ–ª
    function formatNumber(number) {
      return number.toLocaleString('ru-RU');
    }

    // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–æ–Ω–µ—Ç –∏ –¥–æ—Ö–æ–¥–∞
    function updateDisplays() {
      coinsDisplay.textContent = formatNumber(Math.floor(coins));
      hourlyIncomeDisplay.textContent = formatNumber(hourlyIncome);
      updateBuyButtons();
    }

    // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–Ω–æ–ø–æ–∫ –ø–æ–∫—É–ø–∫–∏
    function updateBuyButtons() {
      for (const [id, booster] of Object.entries(boosters)) {
        const button = document.getElementById(`buy-${id}`);
        if (button) {
          button.disabled = coins < booster.price;
        }
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫—É–ø–∫–∏ –±—É—Å—Ç–µ—Ä–∞
    function buyBooster(boosterId) {
      const booster = boosters[boosterId];
      if (coins >= booster.price) {
        coins -= booster.price;
        booster.owned++;
        hourlyIncome += booster.income;
        updateDisplays();
        animateCoins(coins, coins + booster.income);
        saveGame();
      }
    }

    // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ –±—É—Å—Ç–µ—Ä–æ–≤
    function createShop() {
      for (const [id, booster] of Object.entries(boosters)) {
        const shopItem = document.createElement('div');
        shopItem.classList.add('shop-item');

        const icon = document.createElement('div');
        icon.classList.add('shop-item-icon');
        icon.textContent = booster.icon;

        const info = document.createElement('div');
        info.classList.add('shop-item-info');

        const name = document.createElement('div');
        name.classList.add('shop-item-name');
        name.textContent = booster.name;

        const price = document.createElement('div');
        price.classList.add('shop-item-price');
        price.innerHTML = `–¶–µ–Ω–∞: <span id="price-${id}">${formatNumber(booster.price)}</span> üí∞`;

        const income = document.createElement('div');
        income.textContent = `+${formatNumber(booster.income)}/—á–∞—Å`;

        const button = document.createElement('button');
        button.classList.add('buy-button');
        button.id = `buy-${id}`;
        button.textContent = '–ö—É–ø–∏—Ç—å';
        button.addEventListener('click', () => buyBooster(id));

        info.appendChild(name);
        info.appendChild(price);
        info.appendChild(income);
        info.appendChild(button);

        shopItem.appendChild(icon);
        shopItem.appendChild(info);

        shopContainer.appendChild(shopItem);
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
    function animateCoins(start, end) {
      const duration = 1000; // –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –º—Å
      const startTime = performance.now();

      function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        coins = start + (end - start) * progress;
        coinsDisplay.textContent = formatNumber(Math.floor(coins));

        if (progress < 1) {
          requestAnimationFrame(update);
        } else {
          coins = end;
          updateDisplays();
        }
      }

      requestAnimationFrame(update);
    }

    // –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞ –Ω–∞ –º–æ–Ω–µ—Ç—É
    clickCoin.addEventListener('click', (event) => {
      const start = coins;
      const end = coins + coinsPerClick;
      coins += coinsPerClick;
      updateDisplays();

      // –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–≤–∞—é—â–µ–≥–æ —á–∏—Å–ª–∞
      const floatingNumber = document.createElement('div');
      floatingNumber.textContent = `+${coinsPerClick}`;
      floatingNumber.classList.add('floating-number');

      const rect = clickCoin.getBoundingClientRect();
      const windowRect = document.querySelector('.game-window').getBoundingClientRect();
      floatingNumber.style.left = `${rect.width / 2}px`;
      floatingNumber.style.top = `${rect.height / 2}px`;

      clickCoin.appendChild(floatingNumber);

      setTimeout(() => {
        floatingNumber.remove();
      }, 1000);

      // –ê–Ω–∏–º–∞—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞
      animateCoins(start, end);

      saveGame();
    });

    // –§—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
    function setActiveNav(element) {
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
      element.classList.add('active');
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    function showMain() {
      shopContainer.style.display = 'none';
      clickCoin.style.display = 'flex';
      setActiveNav(document.querySelector('.nav-item:nth-child(1)'));
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
    function showShop() {
      shopContainer.style.display = 'block';
      clickCoin.style.display = 'none';
      setActiveNav(document.querySelector('.nav-item:nth-child(2)'));
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏–π
    function showTasks() {
      openModal('–†–∞–∑–¥–µ–ª "–ó–∞–¥–∞–Ω–∏—è" –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!');
      setActiveNav(document.querySelector('.nav-item:nth-child(3)'));
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–∏–∑–æ–≤
    function showPrizes() {
      const prizeClaimed = localStorage.getItem('prizeClaimed');
      if (!prizeClaimed) {
        modalMessage.textContent = '–•–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å 5000 –º–æ–Ω–µ—Ç?';
        prizeButton.style.display = 'inline-block';
        prizeButton.textContent = '–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∏–∑';
        prizeButton.onclick = claimPrize;
      } else {
        modalMessage.textContent = '–í—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –ø—Ä–∏–∑.';
        prizeButton.style.display = 'none';
      }
      openModal();
      setActiveNav(document.querySelector('.nav-item:nth-child(4)'));
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞
    function showRating() {
      openModal('–†–µ–π—Ç–∏–Ω–≥ –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω!');
      setActiveNav(document.querySelector('.nav-item:nth-child(5)'));
    }

    // –§—É–Ω–∫—Ü–∏—è –æ—Ç–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function openModal(message) {
      if (message) {
        modalMessage.textContent = message;
      }
      modal.style.display = 'block';
    }

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
    function closeModal() {
      modal.style.display = 'none';
      // –£–¥–∞–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –µ—Å–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±—ã–ª–æ –æ—Ç–∫—Ä—ã—Ç–æ –∏–∑ nav-item
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
    }

    // –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏–∑–∞
    function claimPrize() {
      const prizeClaimed = localStorage.getItem('prizeClaimed');
      if (!prizeClaimed) {
        const start = coins;
        const end = coins + 5000;
        coins += 5000;
        updateDisplays();
        animateCoins(start, end);
        saveGame();
        localStorage.setItem('prizeClaimed', 'true');
        modalMessage.textContent = '–í—ã –ø–æ–ª—É—á–∏–ª–∏ 5000 –º–æ–Ω–µ—Ç!';
        prizeButton.style.display = 'none';
      } else {
        modalMessage.textContent = '–í—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –ø—Ä–∏–∑.';
        prizeButton.style.display = 'none';
      }
    }

    // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
    window.addEventListener('click', function(event) {
      if (event.target == modal) {
        closeModal();
      }
    });

    // –§—É–Ω–∫—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–≥—Ä—ã
    function saveGame() {
      const gameState = {
        coins,
        hourlyIncome,
        boosters,
        lastSaveTime: Date.now()
      };
      localStorage.setItem('gameState', JSON.stringify(gameState));
    }

    // –§—É–Ω–∫—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –∏–≥—Ä—ã
    function loadGame() {
      const savedState = localStorage.getItem('gameState');
      if (savedState) {
        const gameState = JSON.parse(savedState);
        coins = gameState.coins;
        hourlyIncome = gameState.hourlyIncome;
        for (const [id, booster] of Object.entries(gameState.boosters)) {
          if (boosters[id]) {
            boosters[id].owned = booster.owned;
          }
        }
        updateDisplays();

        // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –¥–æ—Ö–æ–¥ –∑–∞ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ –∏–≥—Ä–∞ –±—ã–ª–∞ –∑–∞–∫—Ä—ã—Ç–∞
        const timeNow = Date.now();
        const elapsedTime = (timeNow - gameState.lastSaveTime) / 1000; // –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        coins += hourlyIncome * (elapsedTime / 3600);
        updateDisplays();
      } else {
        // –ï—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π –∏–≥—Ä—ã, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –Ω–∞ 5000
        coins = 5000;
        updateDisplays();
        saveGame();
      }
    }

    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('beforeunload', saveGame);

    // –°–æ–∑–¥–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    createShop();
    loadGame();
  </script>
</body>
</html>
