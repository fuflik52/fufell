<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>City Builder & Wheel of Fortune</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #e0f7fa; /* –ì–æ–ª—É–±–æ–π —Ñ–æ–Ω */
            text-align: center;
            padding: 20px;
        }

        #game-container {
            width: 100%; /* –ü–æ–∑–≤–æ–ª–∏—Ç—å —Ä–∞—Å—Ç—è–Ω—É—Ç—å –Ω–∞ –≤—Å—é —à–∏—Ä–∏–Ω—É */
            max-width: 600px; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        button {
            padding: 10px 20px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background-color: #4CAF50; /* –ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç */
            color: white;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #45a049; /* –¢–µ–º–Ω–µ–µ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }

        #city-info {
            margin-top: 20px;
            font-size: 16px;
            color: #333;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã */
        .component {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            position: relative;
            margin: 0 auto;
            overflow: hidden;
            border: 10px solid #333; /* –ì—Ä–∞–Ω–∏—Ü–∞ –∫–æ–ª–µ—Å–∞ */
            background: conic-gradient(green 50%, red 50%); /* –ó–µ–ª–µ–Ω–∞—è –∏ –∫—Ä–∞—Å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω—ã */
        }

        #wheel-pointer {
            width: 10px;
            height: 20px;
            background-color: yellow; /* –¶–≤–µ—Ç —É–∫–∞–∑–∞—Ç–µ–ª—è */
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%) rotate(180deg); /* –£–∫–∞–∑–∞—Ç–µ–ª—å –ø–æ–¥ 180 –≥—Ä–∞–¥—É—Å–æ–≤ */
            border-radius: 5px; /* –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫—Ä–∞—è */
        }

        .result {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }

        #chat-container {
            margin-top: 20px;
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid #b3e5fc; /* –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–∞—è –≥—Ä–∞–Ω–∏—Ü–∞ */
            padding: 10px;
            background-color: #e1f5fe; /* –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω */
            border-radius: 10px; /* –ó–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ –∫—Ä–∞—è */
            resize: both; /* –ü–æ–∑–≤–æ–ª–∏—Ç—å –∏–∑–º–µ–Ω—è—Ç—å —Ä–∞–∑–º–µ—Ä */
            overflow: auto; /* –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Ä—É—Ç–∫—É –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ */
            max-width: 100%; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
        }

        .chat-message {
            margin: 5px 0;
            position: relative; /* –ü–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–∞ */
            padding-right: 25px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –∫—Ä–µ—Å—Ç–∏–∫–∞ */
        }

        .user-message {
            text-align: right;
            color: blue;
        }

        .bot-message {
            text-align: left;
            color: green;
        }

        .delete-button {
            position: absolute;
            top: 0;
            right: 5px; /* –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è */
            background: red;
            color: white;
            border: none;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            cursor: pointer;
            font-size: 14px;
            line-height: 20px; /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ */
            display: none; /* –°–∫—Ä—ã—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        }

        .chat-message:hover .delete-button {
            display: block; /* –ü–æ–∫–∞–∑–∞—Ç—å –∫—Ä–µ—Å—Ç–∏–∫ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>City Builder & Wheel of Fortune</h1>
        <div id="create-city">
            <p>–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞:</p>
            <input type="text" id="city-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞" />
            <button onclick="createCity()">–°–æ–∑–¥–∞—Ç—å –≥–æ—Ä–æ–¥</button>
        </div>

        <div id="city-info" style="display: none;">
            <p>üèôÔ∏è –ì–æ—Ä–æ–¥: <span id="city-name">---</span></p>
            <p>üí∞ –ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span></p>
            <p>üèóÔ∏è –ú–∞—Ç–µ—Ä–∏–∞–ª—ã: <span id="materials">500</span></p>
            <p>‚ö° –≠–Ω–µ—Ä–≥–∏—è: <span id="energy">100</span></p>
            <p>üë• –ü–æ–ø—É–ª—è—Ü–∏—è: <span id="population">10</span></p>
        </div>

        <div id="controls" style="display: none;">
            <button onclick="buildHouse()">üè† –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º</button>
            <div id="house-response" class="bot-response"></div>
            <button onclick="buildFactory()">üè≠ –ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∞–±—Ä–∏–∫—É</button>
            <div id="factory-response" class="bot-response"></div>
            <button onclick="buildCommercial()">üè¢ –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞–≥–∞–∑–∏–Ω</button>
            <div id="commercial-response" class="bot-response"></div>
            <button onclick="showStats()">üîç –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
            <div id="stats-response" class="bot-response"></div>
            <button onclick="openCasino()">üé∞ –ö–∞–∑–∏–Ω–æ</button>
            <div id="casino-response" class="bot-response"></div>
        </div>

        <!-- –ö–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã -->
        <div id="wheel-container" style="display: none;">
            <h3>–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã</h3>
            <div class="component" id="wheel"></div>
            <div id="wheel-pointer"></div>
            <button onclick="spinWheel(1)">1/3 –ë–∞–ª–∞–Ω—Å–∞</button>
            <button onclick="spinWheel(2)">2/3 –ë–∞–ª–∞–Ω—Å–∞</button>
            <button onclick="spinWheel(3)">–í–∞-–ë–∞–Ω–∫</button>
            <div class="result" id="spin-result"></div>
        </div>

        <div id="chat-container"></div>
        
        <div id="chat-input" style="display: none;">
            <input type="text" id="chat-box" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." onkeypress="sendMessage(event)">
        </div>
    </div>

    <script>
        let city = {
            name: "",
            balance: 1000,
            materials: 500,
            energy: 100,
            population: 10,
            buildings: {
                house: 1,
                factory: 0,
                commercial: 0
            },
            bank_balance: 0
        };

        // –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–æ—Ä–æ–¥–∞
        function createCity() {
            let cityNameInput = document.getElementById("city-name-input").value;
            if (cityNameInput) {
                city.name = cityNameInput;
                document.getElementById("city-name").innerText = city.name;
                document.getElementById("create-city").style.display = "none";
                document.getElementById("city-info").style.display = "block";
                document.getElementById("controls").style.display = "block";
                document.getElementById("chat-input").style.display = "block"; // –ü–æ–∫–∞–∑–∞—Ç—å —á–∞—Ç
                addBotMessage(`–ì–æ—Ä–æ–¥ '${city.name}' —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!`);
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã
        function openCasino() {
            document.getElementById("wheel-container").style.display = "block";
        }

        // –í—Ä–∞—â–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞ —Ñ–æ—Ä—Ç—É–Ω—ã
        function spinWheel(type) {
            let stake = 0;
            if (type === 1) {
                stake = Math.floor(city.balance / 3);
            } else if (type === 2) {
                stake = Math.floor(city.balance / 3 * 2);
            } else if (type === 3) {
                stake = city.balance;
            }

            if (stake > city.balance) {
                addBotMessage("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è —Å—Ç–∞–≤–∫–∏.");
                return;
            }

            city.balance -= stake;

            // –í—Ä–∞—â–µ–Ω–∏–µ –∫–æ–ª–µ—Å–∞
            let spinAngle = Math.floor(Math.random() * 360) + 1440;  // –û—Ç 1440 –¥–æ 1800 –≥—Ä–∞–¥—É—Å–æ–≤ (4-5 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤)
            document.getElementById("wheel").style.transition = "transform 3s ease-out";
            document.getElementById("wheel").style.transform = `rotate(${spinAngle}deg)`;

            setTimeout(() => {
                let result = spinAngle % 360 < 180; // –ï—Å–ª–∏ —É–≥–æ–ª –º–µ–Ω—å—à–µ 180, —ç—Ç–æ –ø–æ–±–µ–¥–∞

                if (result) {
                    city.balance += stake * 2;
                    addBotMessage(`–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏! –í–∞—à –≤—ã–∏–≥—Ä—ã—à: ${stake * 2} üí∞.`);
                } else {
                    addBotMessage(`–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ü–æ—Ç–µ—Ä—è–Ω–æ: ${stake} üí∞.`);
                }

                // –¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ–º UI —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É
                updateUI();
                document.getElementById("wheel").style.transition = "";
                document.getElementById("wheel").style.transform = "";  // –°–±—Ä–æ—Å –∫–æ–ª–µ—Å–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
            }, 3000);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById("balance").innerText = city.balance;
            document.getElementById("materials").innerText = city.materials;
            document.getElementById("energy").innerText = city.energy;
            document.getElementById("population").innerText = city.population;
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
        function sendMessage(event) {
            if (event.key === "Enter") {
                let chatBox = document.getElementById("chat-box");
                let message = chatBox.value.trim();

                if (message !== "") {
                    addUserMessage(message);
                    chatBox.value = "";

                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
                    if (message.startsWith("/promo ")) {
                        let code = message.split(" ")[1];
                        applyPromo(code);
                    }
                }
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function addUserMessage(text) {
            let chatContainer = document.getElementById("chat-container");
            let message = document.createElement("div");
            message.className = "chat-message user-message";
            message.innerText = text;

            // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
            let deleteButton = document.createElement("button");
            deleteButton.innerText = "‚úñ";
            deleteButton.className = "delete-button";
            deleteButton.onclick = function() {
                chatContainer.removeChild(message);
            };

            message.appendChild(deleteButton);
            chatContainer.appendChild(message);
            chatContainer.scrollTop = chatContainer.scrollHeight; // –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –±–æ—Ç–∞
        function addBotMessage(text) {
            let chatContainer = document.getElementById("chat-container");
            let message = document.createElement("div");
            message.className = "chat-message bot-message";
            message.innerText = text;

            // –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è
            let deleteButton = document.createElement("button");
            deleteButton.innerText = "‚úñ";
            deleteButton.className = "delete-button";
            deleteButton.onclick = function() {
                chatContainer.removeChild(message);
            };

            message.appendChild(deleteButton);
            chatContainer.appendChild(message);
            chatContainer.scrollTop = chatContainer.scrollHeight; // –ê–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫–∞
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
        function applyPromo(code) {
            if (code === "1kk") {
                city.balance += 1000000;
                city.materials += 1000000;
                addBotMessage("–ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω! –í—ã –ø–æ–ª—É—á–∏–ª–∏ 1,000,000 üí∞ –∏ 1,000,000 üèóÔ∏è.");
                updateUI();
            } else {
                addBotMessage("–ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥.");
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–∫
        function buildHouse() {
            city.buildings.house++;
            addBotMessage(`–ü–æ—Å—Ç—Ä–æ–µ–Ω –¥–æ–º! –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–º–æ–≤: ${city.buildings.house}`);
        }

        function buildFactory() {
            city.buildings.factory++;
            addBotMessage(`–ü–æ—Å—Ç—Ä–æ–µ–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞! –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–±—Ä–∏–∫: ${city.buildings.factory}`);
        }

        function buildCommercial() {
            city.buildings.commercial++;
            addBotMessage(`–ü–æ—Å—Ç—Ä–æ–µ–Ω –º–∞–≥–∞–∑–∏–Ω! –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–≥–∞–∑–∏–Ω–æ–≤: ${city.buildings.commercial}`);
        }

        function showStats() {
            addBotMessage(`–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–æ—Ä–æ–¥–∞: 
            –ë–∞–ª–∞–Ω—Å: ${city.balance} üí∞, 
            –ú–∞—Ç–µ—Ä–∏–∞–ª—ã: ${city.materials} üèóÔ∏è, 
            –≠–Ω–µ—Ä–≥–∏—è: ${city.energy} ‚ö°, 
            –ü–æ–ø—É–ª—è—Ü–∏—è: ${city.population} üë•.`);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        updateUI();
    </script>
</body>
</html>
